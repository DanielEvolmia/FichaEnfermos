<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha enfermos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="painel-controle">
      <button onclick="document.getElementById('fileInput').click()" class="btn btn-outline-primary btn-sm">唐 Importar Ficha</button>
      <button onclick="exportarFicha()" class="btn btn-success btn-sm">沈 Exportar Ficha</button>
      <input type="file" id="fileInput" style="display: none" accept=".json" onchange="importarFicha(this)">
      <span id="msgSalvo" style="font-size: 12px; color: green; align-self: center; display: none;">Salvo!</span>
  </div>

  <div class="cabeca">
    <h1 class="titulo">Enfermos</h1>
    <img src="Comunismo.svg" alt="" style="max-height: 50px;">
  </div>

    <div class="container-sm" style="margin-bottom: 30px;">
  <div class="row">
    <div class="col-md-auto bordadiv diminuir">
      <h1 class="sec">Informaﾃｧﾃｵes <br>gerais</h1>
        <div class="mb-3">
            <label class="form-label corpgr">Nome</label>
            <input type="text" class="form-control corpo sobrepor">
        </div>
        <br>
            <div class="mb-3">
            <label class="form-label corpgr">Origem</label>
            <input type="text" class="form-control corpo sobrepor">
        </div>
        <br>
        <div class="mb-3">
             <label class="form-label corpgr">Classe</label>
            <select class="form-select corpo sobrepor" aria-label="Default select example">
            <option value="1">Artesao</option>
            <option value="2">Sapiente</option>
            <option value="3">Bestial</option>
            <option value="4">Asclapio</option>
            <option value="5">Infames</option>
            <option value="6">Celestial</option>
            </select>
            <select class="form-select corpo sobrepor" aria-label="Default select example">
            <option value="7">-</option>
            <option value="1">Artesao</option>
            <option value="2">Sapiente</option>
            <option value="3">Bestial</option>
            <option value="4">Asclepio</option>
            <option value="5">Infames</option>
            <option value="6">Celestial</option>
            </select>
            </div>
        <br>
            <div class="mb-3">
            <label class="form-label corpgr">Tﾃｭtulo</label>
            <input type="text   " class="form-control corpo sobrepor">
        </div>
    </div>
    <div class="col-md-auto bordadiv" >
      <h1 class="sec">Atributos <br>do enfermo</h1>
        <div class="me-3">
            <label class="form-label corpgrnum">FOR</label>
            <input type="number" min="1" max="6" value="1" class="form-control corponum sobrepor">
            <label class="form-label corpgrnum">CON</label>
            <input type="number" min="1" max="6" value="1" class="form-control corponum sobrepor">
            <label class="form-label corpgrnum">DES</label>
            <input type="number" min="1" max="6" value="1" class="form-control corponum sobrepor">
        </div>
        <br><br>
        <div class="me-1" style="margin-bottom: 40%;">
            <label class="form-label corpgrnum">INT</label>
            <input type="number" min="1" max="6" value="1" class="form-control corponum sobrepor">
            <label class="form-label corpgrnum">SAB</label>
            <input type="number" min="1" max="6" value="1" class="form-control corponum sobrepor">
            <label class="form-label corpgrnum">CAR</label>
            <input type="number" min="1" max="6" value="1" class="form-control corponum sobrepor">
        </div>

        <div class="row" style="margin-top: -30px; margin-bottom: -10px;">
            <div class="col-2" style="margin-right: 3%;">
              <label class="form-label  " style="margin-top: 0px;"><b></b></label>
            </div>
            <div class="col-4">
              <h1 class="maxmin">MAX</h1>
            </div>
            <div class="col-2">
              <h1 class="maxmin"> ATL</h1>
            </div>
          </div>

        <div class="row">
            <div class="col-2" style="margin-right: 3%;">
              <label class="form-label corpgr vt" style="margin-top: 0px;"><b>VT</b></label>
            </div>
            <div class="col-4">
              <label class="form-labelA"><input type="number" min="0" value="0" class="form-controlA vt"></label>
            </div>
            <div class="col-2">
              <label class="form-labelA"> <input type="number" min="0" value="0" class="form-controlA vt"></label>
            </div>
          </div>

        <div class="row" style="margin-top: 5px;">
            <div class="col-2" style="margin-right: 3%;">
              <label class="form-label corpgr sn" style="margin-top: 0px;"><b>SN</b></label>
            </div>
            <div class="col-4">
              <label class="form-labelA"><input type="number" min="0" value="0" class="form-controlA sn"></label>
            </div>
            <div class="col-2">
              <label class="form-labelA"> <input type="number" min="0" value="0" class="form-controlA sn"></label>
            </div>
          </div>

          <div class="row" style="margin-top: 5px;">
            <div class="col-2" style="margin-right: 3%;">
              <label class="form-label corpgr es" style="margin-top: 0px;"><b>ES</b></label>
            </div>
            <div class="col-4">
              <label class="form-labelA"><input type="number" min="0" value="0" class="form-controlA es"></label>
            </div>
            <div class="col-2">
              <label class="form-labelA"> <input type="number" min="0" value="0" class="form-controlA es"></label>
            </div>
          </div>


    </div>
    <div class="col bordadiv">
      <div class="secNvl"> 
        <h1 class="sec">Nﾃｭvel</h1>
        <label class="form-label nivel"><input type="number" min="1" max="6" value="1" class="form-control "></label>
      </div>
      <div class="me-3">
        <div class="container">
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Brigar</b><i> [FOR]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Armas B.</b><i> [FOR]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Resistﾃｪncia</b><i> [CON]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Recuperaﾃｧﾃ｣o</b><i> [CON]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Acrobacia</b><i> [DES]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Furtividade</b><i> [DES]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Pontaria</b><i> [DES]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Reflexos</b><i> [DES]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Conhecimento</b><i> [INT]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Estratﾃｩgia</b><i> [INT]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Investigaﾃｧﾃ｣o</b><i> [INT]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Medicina</b><i> [INT]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Percepﾃｧﾃ｣o</b><i> [INT]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Intuiﾃｧﾃ｣o</b><i> [SAB]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Vontade</b><i> [SAB]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Sobrevivﾃｪncia</b><i> [SAB]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Enganaﾃｧﾃ｣o</b><i> [CAR]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Intimidaﾃｧﾃ｣o</b><i> [CAR]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Persuasﾃ｣o</b><i> [CAR]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label class="form-label pericias"><b>Seduﾃｧﾃ｣o</b><i> [CAR]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
          <div class="row cinza">
            <div class="col-6">
              <label class="form-label pericias"><b>Diplomacia</b><i> [CAR]</i></label>
            </div>
            <div class="col-3">
              <label class="form-labelP "><input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
            <div class="col-2">
              <label class="form-labelP "> <input type="number" min="0" value="0" class="form-controlP"></label>
            </div>
          </div>
        </div>  
    </div>
  </div>
 <div class="container-sm" style="margin-bottom: 30px;">
  <div class="row">
    <div class="col-md-auto bordadiv diminuir" style="padding: 10px 40px 0 40px">
        <div class="secNvl">
            <h1 class="sec">Estﾃ｡gio</h1>
            <label class="form-label nivel"><input type="number" min="1" max="6" value="1" class="form-control "></label>
        </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingDes" id="des-6" value="6">
            <label for="des-6"></label>

            <input type="radio" name="ratingDes" id="des-5" value="5">
            <label for="des-5"></label>

            <input type="radio" name="ratingDes" id="des-4" value="4">
            <label for="des-4"></label>

            <input type="radio" name="ratingDes" id="des-3" value="3">
            <label for="des-3"></label>

            <input type="radio" name="ratingDes" id="des-2" value="2">
            <label for="des-2"></label>

            <input type="radio" name="ratingDes" id="des-1" value="1">
            <label for="des-1"></label>
            <h1>Des</h1>
        </div>
     </div>
     <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingVel" id="Vel-6" value="6">
            <label for="Vel-6"></label>

            <input type="radio" name="ratingVel" id="Vel-5" value="5">
            <label for="Vel-5"></label>

            <input type="radio" name="ratingVel" id="Vel-4" value="4">
            <label for="Vel-4"></label>

            <input type="radio" name="ratingVel" id="Vel-3" value="3">
            <label for="Vel-3"></label>

            <input type="radio" name="ratingVel" id="Vel-2" value="2">
            <label for="Vel-2"></label>

            <input type="radio" name="ratingVel" id="Vel-1" value="1">
            <label for="Vel-1"></label>
            <h1>Vel</h1>
        </div>
      </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingAlc" id="Alc-6" value="6">
            <label for="Alc-6"></label>

            <input type="radio" name="ratingAlc" id="Alc-5" value="5">
            <label for="Alc-5"></label>

            <input type="radio" name="ratingAlc" id="Alc-4" value="4">
            <label for="Alc-4"></label>

            <input type="radio" name="ratingAlc" id="Alc-3" value="3">
            <label for="Alc-3"></label>

            <input type="radio" name="ratingAlc" id="Alc-2" value="2">
            <label for="Alc-2"></label>

            <input type="radio" name="ratingAlc" id="Alc-1" value="1">
            <label for="Alc-1"></label>
            <h1>Alc</h1>
        </div>
     </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingPer" id="Per-6" value="6">
            <label for="Per-6"></label>

            <input type="radio" name="ratingPer" id="Per-5" value="5">
            <label for="Per-5"></label>

            <input type="radio" name="ratingPer" id="Per-4" value="4">
            <label for="Per-4"></label>

            <input type="radio" name="ratingPer" id="Per-3" value="3">
            <label for="Per-3"></label>

            <input type="radio" name="ratingPer" id="Per-2" value="2">
            <label for="Per-2"></label>

            <input type="radio" name="ratingPer" id="Per-1" value="1">
            <label for="Per-1"></label>
            <h1>Per</h1>
        </div>
     </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingPre" id="Pre-6" value="6">
            <label for="Pre-6"></label>

            <input type="radio" name="ratingPre" id="Pre-5" value="5">
            <label for="Pre-5"></label>

            <input type="radio" name="ratingPre" id="Pre-4" value="4">
            <label for="Pre-4"></label>

            <input type="radio" name="ratingPre" id="Pre-3" value="3">
            <label for="Pre-3"></label>

            <input type="radio" name="ratingPre" id="Pre-2" value="2">
            <label for="Pre-2"></label>

            <input type="radio" name="ratingPre" id="Pre-1" value="1">
            <label for="Pre-1"></label>
            <h1>Pre</h1>
        </div>
      </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingPot" id="Pot-6" value="6">
            <label for="Pot-6"></label>

            <input type="radio" name="ratingPot" id="Pot-5" value="5">
            <label for="Pot-5"></label>

            <input type="radio" name="ratingPot" id="Pot-4" value="4">
            <label for="Pot-4"></label>

            <input type="radio" name="ratingPot" id="Pot-3" value="3">
            <label for="Pot-3"></label>

            <input type="radio" name="ratingPot" id="Pot-2" value="2">
            <label for="Pot-2"></label>

            <input type="radio" name="ratingPot" id="Pot-1" value="1">
            <label for="Pot-1"></label>
            <h1>Pot</h1>
        </div>
     </div>
        <div class="secNvl" style="margin-top: 20px;">
            <h1 class="sec">Estﾃ｡gio</h1>
            <label class="form-label nivel"><input type="number" min="1" max="6" value="1" class="form-control "></label>
        </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingdeDes1" id="deDes1-6" value="6">
            <label for="deDes1-6"></label>

            <input type="radio" name="ratingdeDes1" id="deDes1-5" value="5">
            <label for="deDes1-5"></label>

            <input type="radio" name="ratingdeDes1" id="deDes1-4" value="4">
            <label for="deDes1-4"></label>

            <input type="radio" name="ratingdeDes1" id="deDes1-3" value="3">
            <label for="deDes1-3"></label>

            <input type="radio" name="ratingdeDes1" id="deDes1-2" value="2">
            <label for="deDes1-2"></label>

            <input type="radio" name="ratingdeDes1" id="deDes1-1" value="1">
            <label for="deDes1-1"></label>
            <h1>Des</h1>
        </div>
     </div>
     <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingVel1" id="Vel1-6" value="6">
            <label for="Vel1-6"></label>

            <input type="radio" name="ratingVel1" id="Vel1-5" value="5">
            <label for="Vel1-5"></label>

            <input type="radio" name="ratingVel1" id="Vel1-4" value="4">
            <label for="Vel1-4"></label>

            <input type="radio" name="ratingVel1" id="Vel1-3" value="3">
            <label for="Vel1-3"></label>

            <input type="radio" name="ratingVel1" id="Vel1-2" value="2">
            <label for="Vel1-2"></label>

            <input type="radio" name="ratingVel1" id="Vel1-1" value="1">
            <label for="Vel1-1"></label>
            <h1>Vel</h1>
        </div>
      </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingAlc1" id="Alc1-6" value="6">
            <label for="Alc1-6"></label>

            <input type="radio" name="ratingAlc1" id="Alc1-5" value="5">
            <label for="Alc1-5"></label>

            <input type="radio" name="ratingAlc1" id="Alc1-4" value="4">
            <label for="Alc1-4"></label>

            <input type="radio" name="ratingAlc1" id="Alc1-3" value="3">
            <label for="Alc1-3"></label>

            <input type="radio" name="ratingAlc1" id="Alc1-2" value="2">
            <label for="Alc1-2"></label>

            <input type="radio" name="ratingAlc1" id="Alc1-1" value="1">
            <label for="Alc1-1"></label>
            <h1>Alc</h1>
        </div>
     </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingPer1" id="Per1-6" value="6">
            <label for="Per1-6"></label>

            <input type="radio" name="ratingPer1" id="Per1-5" value="5">
            <label for="Per1-5"></label>

            <input type="radio" name="ratingPer1" id="Per1-4" value="4">
            <label for="Per1-4"></label>

            <input type="radio" name="ratingPer1" id="Per1-3" value="3">
            <label for="Per1-3"></label>

            <input type="radio" name="ratingPer1" id="Per1-2" value="2">
            <label for="Per1-2"></label>

            <input type="radio" name="ratingPer1" id="Per1-1" value="1">
            <label for="Per1-1"></label>
            <h1>Per</h1>
        </div>
     </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingPre1" id="Pre1-6" value="6">
            <label for="Pre1-6"></label>

            <input type="radio" name="ratingPre1" id="Pre1-5" value="5">
            <label for="Pre1-5"></label>

            <input type="radio" name="ratingPre1" id="Pre1-4" value="4">
            <label for="Pre1-4"></label>

            <input type="radio" name="ratingPre1" id="Pre1-3" value="3">
            <label for="Pre1-3"></label>

            <input type="radio" name="ratingPre1" id="Pre1-2" value="2">
            <label for="Pre1-2"></label>

            <input type="radio" name="ratingPre1" id="Pre1-1" value="1">
            <label for="Pre1-1"></label>
            <h1>Pre</h1>
        </div>
      </div>
      <div class="rating-wrapper">
        <div class="rating-container">
            <input type="radio" name="ratingPot1" id="Pot1-6" value="6">
            <label for="Pot1-6"></label>

            <input type="radio" name="ratingPot1" id="Pot1-5" value="5">
            <label for="Pot1-5"></label>

            <input type="radio" name="ratingPot1" id="Pot1-4" value="4">
            <label for="Pot1-4"></label>

            <input type="radio" name="ratingPot1" id="Pot1-3" value="3">
            <label for="Pot1-3"></label>

            <input type="radio" name="ratingPot1" id="Pot1-2" value="2">
            <label for="Pot1-2"></label>

            <input type="radio" name="ratingPot1" id="Pot1-1" value="1">
            <label for="Pot1-1"></label>
            <h1>Pot</h1>
        </div>
     </div>
  </div>
    <div class="col bordadiv diminuir">
      <div style="display: inline;">
      <label class="form-label  sec">Inventﾃ｡rio</label>
      <textarea type="text" class="form-control  text-break" style="width:90%;min-height: 20%;"> </textarea>
      </div><div style="display: inline;">
      <label class="form-label  sec">Habilidades</label>
      <textarea type="text" class="form-control  text-break" style="width:90%;min-height: 20%;"> </textarea>
      </div><div style="display: inline;">
      <label class="form-label  sec">Anotaﾃｧﾃｵes</label>
      <textarea type="text" class="form-control  text-break" style="width:90%; min-height: 20%;"> </textarea>
      </div>
    </div>
  </div>

<script>
    // Seleciona todos os inputs, selects e textareas da pﾃ｡gina
    const todosCampos = document.querySelectorAll('input, select, textarea');

    // -- 1. FUNﾃﾃグ PARA CARREGAR DADOS --
    function carregarDados() {
        const dadosSalvos = localStorage.getItem('fichaEnfermosAutoSave');
        if (dadosSalvos) {
            aplicarDados(JSON.parse(dadosSalvos));
        }
    }

    // -- 2. FUNﾃﾃグ PARA SALVAR (AUTO-SAVE) --
    function salvarDados() {
        const dados = coletarDados();
        localStorage.setItem('fichaEnfermosAutoSave', JSON.stringify(dados));
        
    }

    // -- 3. FUNﾃﾃグ PARA EXPORTAR (DOWNLOAD) --
    function exportarFicha() {
        const dados = coletarDados();
        const jsonDados = JSON.stringify(dados);
        const blob = new Blob([jsonDados], { type: "application/json" });
        const url = URL.createObjectURL(blob);
        
        const a = document.createElement('a');
        a.href = url;
        // Pega o nome do personagem para o arquivo, ou usa padrﾃ｣o
        // Como o input nome nﾃ｣o tem ID, pegamos o primeiro input da pﾃ｡gina (geralmente ﾃｩ o nome)
        let nomeArquivo = "ficha-enfermos.json";
        const primeiroInput = document.querySelector('input[type="text"]');
        if(primeiroInput && primeiroInput.value) {
            nomeArquivo = `ficha-${primeiroInput.value.replace(/[^a-z0-9]/gi, '_').toLowerCase()}.json`;
        }
        
        a.download = nomeArquivo;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
    }

    // -- 4. FUNﾃﾃグ PARA IMPORTAR (UPLOAD) --
    function importarFicha(input) {
        const file = input.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function(e) {
            try {
                const dados = JSON.parse(e.target.result);
                aplicarDados(dados);
                salvarDados(); // Salva no local storage logo apﾃｳs importar
                alert("Ficha carregada com sucesso!");
            } catch (err) {
                alert("Erro ao ler o arquivo. Verifique se ﾃｩ um arquivo .json vﾃ｡lido.");
            }
        };
        reader.readAsText(file);
        // Limpa o input para permitir carregar o mesmo arquivo novamente se necessﾃ｡rio
        input.value = ''; 
    }

    // -- AUXILIARES --

    // Coleta o estado de todos os campos baseados na ordem
    function coletarDados() {
        const dados = [];
        todosCampos.forEach(campo => {
            // Ignora o input de arquivo (fileInput)
            if(campo.type === 'file') return;

            if (campo.type === 'radio' || campo.type === 'checkbox') {
                dados.push(campo.checked); // Salva verdadeiro/falso
            } else {
                dados.push(campo.value);   // Salva o texto/nﾃｺmero
            }
        });
        return dados;
    }

    // Aplica os dados nos campos baseados na ordem
    function aplicarDados(dados) {
        // Filtra o fileInput da lista de campos a preencher
        const camposEditaveis = Array.from(todosCampos).filter(c => c.type !== 'file');

        if(dados.length !== camposEditaveis.length) {
            console.warn("Atenﾃｧﾃ｣o: A quantidade de campos salvos difere da atual.");
        }

        camposEditaveis.forEach((campo, index) => {
            if (index < dados.length) {
                if (campo.type === 'radio' || campo.type === 'checkbox') {
                    campo.checked = dados[index];
                } else {
                    campo.value = dados[index];
                }
            }
        });
    }

    // -- INICIALIZAﾃﾃグ --
    
    // Adiciona evento de salvar sempre que algo mudar
    todosCampos.forEach(campo => {
        campo.addEventListener('input', salvarDados);
        campo.addEventListener('change', salvarDados); // Necessﾃ｡rio para Selects e Radios
    });

    // Carrega dados ao abrir a pﾃ｡gina
    carregarDados();

</script>
</body>
</html>